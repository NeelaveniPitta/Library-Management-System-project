<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Issued Books</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container mt-5">
  <div class="card shadow-lg rounded-3">
    <div class="card-body">
      <h2 class="mb-4 text-center text-primary">
        <i class="bi bi-journal-bookmark-fill"></i> Issued Books
      </h2>

      <!-- Navigation Buttons -->
      <div class="mb-3 text-center">
        <a class="btn btn-success me-2" th:href="@{/issues/issue}">
          <i class="bi bi-plus-circle"></i> Issue a Book
        </a>
        <a class="btn btn-secondary me-2" th:href="@{/students}">
          <i class="bi bi-people"></i> Students
        </a>
        <a class="btn btn-info" th:href="@{/books}">
          <i class="bi bi-book"></i> Books
        </a>
      </div>

      <!-- Table -->
      <div class="table-responsive">
        <table class="table table-bordered table-hover align-middle">
          <thead class="table-dark text-center">
            <tr>
              <th>ID</th>
              <th>Book</th>
              <th>Student</th>
              <th>Issue Date</th>
              <th>Return Date</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="i : ${issues}">
              <td class="text-center" th:text="${i.id}">1</td>
              <td th:text="${i.book.title}">Book</td>
              <td th:text="${i.student.name}">Student</td>
              <td th:text="${i.issueDate}">2025-08-13</td>
              <td th:text="${i.returnDate} ?: '-'">-</td>
              <td class="text-center">
                <a class="btn btn-warning btn-sm"
                   th:if="${i.returnDate} == null"
                   th:href="@{|/issues/return/${i.id}|}">
                  <i class="bi bi-arrow-counterclockwise"></i> Return
                </a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

</body>
</html>
